# ğŸ—ï¸ TÆ¯ Váº¤N KIáº¾N TRÃšC Há»† THá»NG LUCKY DRAW

**Dá»± Ã¡n:** WheelOfWow - Lucky Draw System  
**NgÃ y:** 4 thÃ¡ng 2, 2026  
**NgÆ°á»i tÆ° váº¥n:** GitHub Copilot

---

## ğŸ“‹ Má»¤C Lá»¤C

1. [Tá»•ng quan hiá»‡n tráº¡ng](#tá»•ng-quan-hiá»‡n-tráº¡ng)
2. [YÃªu cáº§u tÆ°Æ¡ng lai](#yÃªu-cáº§u-tÆ°Æ¡ng-lai)
3. [PhÃ¢n tÃ­ch vÃ  Ä‘á» xuáº¥t](#phÃ¢n-tÃ­ch-vÃ -Ä‘á»-xuáº¥t)
4. [Kiáº¿n trÃºc Ä‘Æ°á»£c khuyáº¿n nghá»‹](#kiáº¿n-trÃºc-Ä‘Æ°á»£c-khuyáº¿n-nghá»‹)
5. [Tech Stack chi tiáº¿t](#tech-stack-chi-tiáº¿t)
6. [Roadmap triá»ƒn khai](#roadmap-triá»ƒn-khai)
7. [Cáº¥u trÃºc thÆ° má»¥c Ä‘á» xuáº¥t](#cáº¥u-trÃºc-thÆ°-má»¥c-Ä‘á»-xuáº¥t)
8. [Chi phÃ­ Æ°á»›c tÃ­nh](#chi-phÃ­-Æ°á»›c-tÃ­nh)
9. [Security Best Practices](#security-best-practices)
10. [Káº¿t luáº­n](#káº¿t-luáº­n)

---

## ğŸ“Š Tá»”NG QUAN HIá»†N TRáº NG

### CÃ´ng nghá»‡ hiá»‡n táº¡i
- **Frontend:** HTML5, CSS3, Vanilla JavaScript
- **Hosting:** GitHub Pages (static website)
- **SEO:** ÄÃ£ cÃ³ meta tags cÆ¡ báº£n, Open Graph, Twitter Card
- **Äa ngÃ´n ngá»¯:** CÃ³ há»— trá»£ (translations.js)
- **Chá»©c nÄƒng chÃ­nh:**
  - Quay sá»‘ trÃºng thÆ°á»Ÿng
  - Quáº£n lÃ½ danh sÃ¡ch tham gia
  - Hiá»ƒn thá»‹ ngÆ°á»i trÃºng thÆ°á»Ÿng
  - Nhiá»u loáº¡i giáº£i thÆ°á»Ÿng

### Äiá»ƒm máº¡nh
âœ… Website hoáº¡t Ä‘á»™ng tá»‘t  
âœ… SEO cÆ¡ báº£n Ä‘Ã£ Ä‘Æ°á»£c implement  
âœ… CÃ³ Ä‘a ngÃ´n ngá»¯ (Viá»‡t/Anh)  
âœ… UI/UX Ä‘Æ¡n giáº£n, dá»… sá»­ dá»¥ng  
âœ… Chi phÃ­ hosting = $0  

### Háº¡n cháº¿
âŒ KhÃ´ng cÃ³ backend  
âŒ KhÃ´ng cÃ³ authentication  
âŒ KhÃ´ng cÃ³ database  
âŒ KhÃ´ng thá»ƒ quáº£n lÃ½ users  
âŒ KhÃ´ng há»— trá»£ payment  
âŒ KhÃ´ng cÃ³ license management  

---

## ğŸ¯ YÃŠU Cáº¦U TÆ¯Æ NG LAI

### Must-have
1. **SEO chuáº©n** (Ä‘Ã£ cÃ³, cáº§n duy trÃ¬)
2. **Multi-language** (Ä‘Ã£ cÃ³, cáº§n enhance)
3. **Google Authentication**
4. **Subscription Payment System**
5. **License Management** (monthly subscription)

### Nice-to-have
- User dashboard
- Usage analytics
- Email notifications
- Admin panel
- API for integrations

---

## ğŸ” PHÃ‚N TÃCH VÃ€ Äá»€ XUáº¤T

### CÃ¢u há»i: CÃ³ cáº§n Framework khÃ´ng?

**ğŸŸ¢ CÃ“ - VÃŒ:**

1. **Authentication phá»©c táº¡p**
   - Google OAuth cáº§n backend secure
   - JWT token management
   - Session handling
   - Refresh token rotation

2. **Payment Processing**
   - Stripe/PayPal yÃªu cáº§u webhook verification
   - PCI compliance
   - Secure customer data
   - Recurring subscription management

3. **Security Requirements**
   - XSS protection
   - CSRF tokens
   - SQL injection prevention
   - Rate limiting
   - Input sanitization

4. **Scalability**
   - Server-side rendering cho SEO
   - Code splitting
   - Caching strategies
   - Database optimization

5. **Developer Experience**
   - TypeScript support
   - Hot reload
   - Built-in routing
   - API routes
   - Testing framework

**ğŸ”´ KHÃ”NG Cáº¦N náº¿u:**
- Chá»‰ lÃ  landing page tÄ©nh
- KhÃ´ng cÃ³ user data
- KhÃ´ng cÃ³ payment
- KhÃ´ng cáº§n authentication

**â¡ï¸ Káº¾T LUáº¬N: Cáº¦N FRAMEWORK**

---

## ğŸ—ï¸ KIáº¾N TRÃšC ÄÆ¯á»¢C KHUYáº¾N NGHá»Š

### Option 1: HYBRID APPROACH (Khuyáº¿n nghá»‹ cho giai Ä‘oáº¡n Ä‘áº§u)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   FRONTEND LAYER                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         Next.js 14+ (App Router)                 â”‚  â”‚
â”‚  â”‚  - Server-Side Rendering (SEO)                   â”‚  â”‚
â”‚  â”‚  - Static Site Generation                        â”‚  â”‚
â”‚  â”‚  - Client Components (Interactive UI)            â”‚  â”‚
â”‚  â”‚  - Built-in i18n                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   API LAYER                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         Next.js API Routes                       â”‚  â”‚
â”‚  â”‚  - /api/auth/[...nextauth]                       â”‚  â”‚
â”‚  â”‚  - /api/stripe/webhooks                          â”‚  â”‚
â”‚  â”‚  - /api/users/*                                  â”‚  â”‚
â”‚  â”‚  - /api/draw/*                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 SERVICES LAYER                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ NextAuth.js â”‚  â”‚   Stripe     â”‚  â”‚   Supabase   â”‚  â”‚
â”‚  â”‚  (OAuth)    â”‚  â”‚  (Payment)   â”‚  â”‚  (Database)  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  DATA LAYER                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         PostgreSQL (Supabase)                    â”‚  â”‚
â”‚  â”‚  - users                                         â”‚  â”‚
â”‚  â”‚  - subscriptions                                 â”‚  â”‚
â”‚  â”‚  - draw_sessions                                 â”‚  â”‚
â”‚  â”‚  - winners                                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Option 2: MICROSERVICES (Cho tÆ°Æ¡ng lai dÃ i háº¡n)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend   â”‚    â”‚  Auth API    â”‚    â”‚ Payment API  â”‚
â”‚   Next.js    â”‚â”€â”€â”€â–¶â”‚  (Node.js)   â”‚    â”‚  (Node.js)   â”‚
â”‚              â”‚    â”‚  + Redis     â”‚    â”‚  + Stripe    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                    â”‚
       â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                            â”‚
       â–¼                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              API Gateway (Kong/AWS API Gateway)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Database Cluster                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  PostgreSQL  â”‚  â”‚    Redis     â”‚  â”‚  MongoDB   â”‚ â”‚
â”‚  â”‚   (Primary)  â”‚  â”‚   (Cache)    â”‚  â”‚  (Logs)    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**â¡ï¸ KHUYáº¾N NGHá»Š: Báº¯t Ä‘áº§u vá»›i Option 1, scale lÃªn Option 2 khi cáº§n**

---

## ğŸ› ï¸ TECH STACK CHI TIáº¾T

### Frontend Framework Comparison

| Framework | Æ¯u Ä‘iá»ƒm | NhÆ°á»£c Ä‘iá»ƒm | SEO | PhÃ¹ há»£p |
|-----------|---------|------------|-----|---------|
| **Next.js 14** | - SSR/SSG tá»‘t nháº¥t<br>- React ecosystem lá»›n<br>- Vercel support<br>- App Router máº¡nh | - Bundle size lá»›n<br>- Learning curve | â­â­â­â­â­ | âœ… **KHUYáº¾N NGHá»Š** |
| **Nuxt 3** | - Vue dá»… há»c<br>- SSR built-in<br>- Module ecosystem | - Community nhá» hÆ¡n<br>- TypeScript OK | â­â­â­â­â­ | âœ… Náº¿u thÃ­ch Vue |
| **SvelteKit** | - Nháº¹ nháº¥t<br>- Performance tá»‘t<br>- Syntax Ä‘Æ¡n giáº£n | - Ecosystem nhá»<br>- Jobs Ã­t | â­â­â­â­â­ | ğŸŸ¡ Náº¿u Æ°u tiÃªn perf |
| **Astro** | - Ultra-fast<br>- Island architecture<br>- Component agnostic | - Dynamic khÃ³ hÆ¡n<br>- CÃ²n má»›i | â­â­â­â­â­ | ğŸŸ¡ Content-heavy |

### Recommended Stack

```yaml
Frontend:
  framework: Next.js 14.2+
  language: TypeScript
  ui_library: Tailwind CSS + shadcn/ui
  state_management: Zustand / React Context
  form: React Hook Form + Zod

Authentication:
  library: NextAuth.js v5 (Auth.js)
  providers:
    - Google OAuth 2.0
    - Email/Password (future)
  session: JWT + Database

Payment:
  gateway: Stripe
  features:
    - Checkout Sessions
    - Customer Portal
    - Webhooks
    - Subscription Management
  pricing_model: Monthly/Yearly recurring

Database:
  primary: Supabase (PostgreSQL)
  features:
    - Row Level Security (RLS)
    - Real-time subscriptions
    - Built-in Auth
    - Auto-generated API
  alternative: PlanetScale / Neon

Hosting:
  platform: Vercel
  features:
    - Zero-config Next.js
    - Edge Functions
    - Analytics
    - Preview deployments
  alternative: Netlify / Railway

Monitoring:
  error_tracking: Sentry
  analytics: Vercel Analytics / Google Analytics 4
  logging: Axiom / LogFlare

Email:
  service: Resend / SendGrid
  use_cases:
    - Welcome emails
    - Payment receipts
    - Subscription reminders
```

---

## ğŸ—“ï¸ ROADMAP TRIá»‚N KHAI

### Phase 1: Preparation (1-2 tuáº§n) â±ï¸

**Week 1:**
- [ ] Setup Next.js project with TypeScript
- [ ] Migrate current HTML/CSS/JS to React components
- [ ] Setup Tailwind CSS + shadcn/ui
- [ ] Configure i18n (next-intl)
- [ ] Test SEO with next/seo

**Week 2:**
- [ ] Create Supabase project
- [ ] Design database schema
- [ ] Setup Google OAuth credentials
- [ ] Create Stripe account
- [ ] Setup development environment

**Deliverables:**
- âœ… Working Next.js app (same features as current)
- âœ… Environment variables configured
- âœ… Database schema defined

---

### Phase 2: Authentication (1-2 tuáº§n) ğŸ”

**Week 3:**
- [ ] Install and configure NextAuth.js
- [ ] Setup Google OAuth provider
- [ ] Create login/signup pages
- [ ] Implement session management
- [ ] Add protected routes middleware

**Week 4:**
- [ ] Create user profile page
- [ ] Add user settings
- [ ] Implement logout functionality
- [ ] Test auth flow (happy path + edge cases)
- [ ] Add loading states and error handling

**Deliverables:**
- âœ… Users can sign in with Google
- âœ… Session persisted across pages
- âœ… Protected routes working

---

### Phase 3: Payment Integration (2-3 tuáº§n) ğŸ’³

**Week 5-6:**
- [ ] Setup Stripe products and pricing
- [ ] Create pricing page
- [ ] Implement Stripe Checkout
- [ ] Setup webhook endpoint
- [ ] Handle subscription events (created, updated, cancelled)

**Week 7:**
- [ ] Create subscription management page
- [ ] Implement Customer Portal integration
- [ ] Add subscription status checks
- [ ] Test payment flow (sandbox)
- [ ] Handle failed payments

**Deliverables:**
- âœ… Users can subscribe monthly
- âœ… Webhooks processing correctly
- âœ… Subscription status reflected in UI

---

### Phase 4: License Management (1-2 tuáº§n) ğŸ«

**Week 8:**
- [ ] Create license table in database
- [ ] Generate license keys
- [ ] Link licenses to subscriptions
- [ ] Implement license validation middleware
- [ ] Add license expiration logic

**Week 9:**
- [ ] Create user dashboard
- [ ] Show license status and expiry
- [ ] Add upgrade/downgrade flows
- [ ] Implement grace period for expired licenses
- [ ] Email notifications for expiry

**Deliverables:**
- âœ… License generated on subscription
- âœ… License checked before draw feature
- âœ… Email reminders working

---

### Phase 5: Testing & Optimization (1 tuáº§n) ğŸ§ª

**Week 10:**
- [ ] Write unit tests (Jest + React Testing Library)
- [ ] Write E2E tests (Playwright)
- [ ] Test payment flows thoroughly
- [ ] Security audit (OWASP Top 10)
- [ ] Performance optimization (Lighthouse)

**Deliverables:**
- âœ… Test coverage > 70%
- âœ… Lighthouse score > 90
- âœ… Security vulnerabilities fixed

---

### Phase 6: Launch (1 tuáº§n) ğŸš€

**Week 11:**
- [ ] Setup production environment
- [ ] Configure domain and SSL
- [ ] Setup monitoring (Sentry)
- [ ] Create documentation
- [ ] Soft launch (beta users)

**Week 12:**
- [ ] Collect feedback
- [ ] Fix critical bugs
- [ ] Public launch
- [ ] Marketing materials
- [ ] Monitor performance

**Deliverables:**
- âœ… Live production site
- âœ… Payment processing real money
- âœ… Users onboarding successfully

---

## ğŸ“ Cáº¤U TRÃšC THÆ¯ Má»¤C Äá»€ XUáº¤T

```
wheelofwow/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ ci.yml
â”‚       â””â”€â”€ deploy.yml
â”‚
â”œâ”€â”€ app/                          # Next.js 14 App Router
â”‚   â”œâ”€â”€ (marketing)/              # Public pages (no auth)
â”‚   â”‚   â”œâ”€â”€ page.tsx              # Landing page
â”‚   â”‚   â”œâ”€â”€ about/
â”‚   â”‚   â”œâ”€â”€ pricing/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ features/
â”‚   â”‚   â””â”€â”€ layout.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ (auth)/                   # Auth pages
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ register/
â”‚   â”‚   â””â”€â”€ layout.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ (dashboard)/              # Protected pages
â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ draw/                 # Main lucky draw app
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ settings/
â”‚   â”‚   â”‚   â”œâ”€â”€ profile/
â”‚   â”‚   â”‚   â”œâ”€â”€ subscription/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ layout.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ api/                      # API Routes
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â””â”€â”€ [...nextauth]/
â”‚   â”‚   â”‚       â””â”€â”€ route.ts
â”‚   â”‚   â”œâ”€â”€ stripe/
â”‚   â”‚   â”‚   â”œâ”€â”€ checkout/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ webhook/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â””â”€â”€ portal/
â”‚   â”‚   â”‚       â””â”€â”€ route.ts
â”‚   â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”‚   â”œâ”€â”€ me/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚       â””â”€â”€ route.ts
â”‚   â”‚   â”œâ”€â”€ draw/
â”‚   â”‚   â”‚   â”œâ”€â”€ start/
â”‚   â”‚   â”‚   â”œâ”€â”€ winners/
â”‚   â”‚   â”‚   â””â”€â”€ history/
â”‚   â”‚   â””â”€â”€ license/
â”‚   â”‚       â”œâ”€â”€ validate/
â”‚   â”‚       â””â”€â”€ status/
â”‚   â”‚
â”‚   â”œâ”€â”€ [locale]/                 # i18n routes
â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ layout.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ layout.tsx                # Root layout
â”‚   â”œâ”€â”€ globals.css
â”‚   â””â”€â”€ error.tsx
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                       # shadcn/ui components
â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â”œâ”€â”€ dialog.tsx
â”‚   â”‚   â”œâ”€â”€ input.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ login-form.tsx
â”‚   â”‚   â”œâ”€â”€ signup-form.tsx
â”‚   â”‚   â””â”€â”€ social-login.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ draw/
â”‚   â”‚   â”œâ”€â”€ wheel.tsx             # Main lucky draw wheel
â”‚   â”‚   â”œâ”€â”€ prize-selector.tsx
â”‚   â”‚   â”œâ”€â”€ participant-manager.tsx
â”‚   â”‚   â”œâ”€â”€ winners-list.tsx
â”‚   â”‚   â””â”€â”€ draw-settings.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ sidebar.tsx
â”‚   â”‚   â”œâ”€â”€ header.tsx
â”‚   â”‚   â””â”€â”€ stats-card.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ pricing/
â”‚   â”‚   â”œâ”€â”€ pricing-card.tsx
â”‚   â”‚   â”œâ”€â”€ pricing-table.tsx
â”‚   â”‚   â””â”€â”€ feature-list.tsx
â”‚   â”‚
â”‚   â””â”€â”€ shared/
â”‚       â”œâ”€â”€ navbar.tsx
â”‚       â”œâ”€â”€ footer.tsx
â”‚       â”œâ”€â”€ language-switcher.tsx
â”‚       â””â”€â”€ theme-toggle.tsx
â”‚
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ auth.ts                   # NextAuth config
â”‚   â”œâ”€â”€ stripe.ts                 # Stripe client
â”‚   â”œâ”€â”€ supabase.ts               # Supabase client
â”‚   â”œâ”€â”€ db.ts                     # Database helpers
â”‚   â”œâ”€â”€ utils.ts                  # Utility functions
â”‚   â”œâ”€â”€ validations.ts            # Zod schemas
â”‚   â””â”€â”€ constants.ts
â”‚
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ use-user.ts
â”‚   â”œâ”€â”€ use-subscription.ts
â”‚   â”œâ”€â”€ use-license.ts
â”‚   â””â”€â”€ use-draw.ts
â”‚
â”œâ”€â”€ types/
â”‚   â”œâ”€â”€ auth.ts
â”‚   â”œâ”€â”€ subscription.ts
â”‚   â”œâ”€â”€ draw.ts
â”‚   â””â”€â”€ database.ts
â”‚
â”œâ”€â”€ store/                        # Zustand stores
â”‚   â”œâ”€â”€ draw-store.ts
â”‚   â””â”€â”€ user-store.ts
â”‚
â”œâ”€â”€ messages/                     # i18n translations
â”‚   â”œâ”€â”€ vi.json
â”‚   â””â”€â”€ en.json
â”‚
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ icons/
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â””â”€â”€ robots.txt
â”‚
â”œâ”€â”€ prisma/                       # If using Prisma
â”‚   â”œâ”€â”€ schema.prisma
â”‚   â”œâ”€â”€ migrations/
â”‚   â””â”€â”€ seed.ts
â”‚
â”œâ”€â”€ supabase/                     # If using Supabase
â”‚   â”œâ”€â”€ migrations/
â”‚   â””â”€â”€ seed.sql
â”‚
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ unit/
â”‚   â”œâ”€â”€ integration/
â”‚   â””â”€â”€ e2e/
â”‚
â”œâ”€â”€ .env.local
â”œâ”€â”€ .env.example
â”œâ”€â”€ .eslintrc.json
â”œâ”€â”€ .gitignore
â”œâ”€â”€ next.config.js
â”œâ”€â”€ package.json
â”œâ”€â”€ tailwind.config.ts
â”œâ”€â”€ tsconfig.json
â””â”€â”€ README.md
```

---

## ğŸ’° CHI PHÃ Æ¯á»šC TÃNH

### Development Phase (One-time)

| Item | Cost (USD) | Note |
|------|------------|------|
| Development (3 months) | $0 | Self-development |
| UI/UX Design | $0-500 | Template / DIY |
| Testing & QA | $0-300 | Self-testing |
| **Total Development** | **$0-800** | |

### Monthly Operating Costs

#### Tier 1: Free / Hobby (0-1000 users)

| Service | Plan | Cost | Limit |
|---------|------|------|-------|
| Vercel | Hobby | $0 | 100GB bandwidth |
| Supabase | Free | $0 | 500MB database, 2GB bandwidth |
| Stripe | Pay-as-you-go | 2.9% + $0.30 | Per transaction |
| Domain | .com | $12/year | - |
| Email (Resend) | Free | $0 | 100 emails/day |
| Monitoring (Sentry) | Developer | $0 | 5K errors/month |
| **Total** | | **~$1-5/month** | |

#### Tier 2: Growth (1K-10K users)

| Service | Plan | Cost | Note |
|---------|------|------|------|
| Vercel | Pro | $20 | Unlimited bandwidth |
| Supabase | Pro | $25 | 8GB database, 50GB bandwidth |
| Stripe | Standard | 2.9% + $0.30 | Per transaction |
| Domain | .com | $12/year | - |
| Email (Resend) | Starter | $20 | 50K emails/month |
| Monitoring (Sentry) | Team | $26 | 50K errors/month |
| Analytics | Optional | $0-10 | Vercel included |
| **Total** | | **~$90-120/month** | |

#### Tier 3: Scale (10K-100K users)

| Service | Plan | Cost | Note |
|---------|------|------|------|
| Vercel | Enterprise | Custom | Contact sales |
| Supabase | Team/Enterprise | $599-2500 | Dedicated resources |
| Stripe | Standard | 2.9% + $0.30 | Volume discount available |
| Domain | .com | $12/year | - |
| Email (Resend) | Pro | $80 | 500K emails/month |
| Monitoring (Sentry) | Business | $80 | Unlimited errors |
| CDN (Cloudflare) | Pro | $20 | Better performance |
| **Total** | | **~$800-3000/month** | |

### Revenue Projection Example

```
Pricing: $10/month per user

Month 1-3:   50 users  = $500/month  - $90 cost  = $410 profit
Month 4-6:   200 users = $2000/month - $90 cost  = $1910 profit
Month 7-12:  500 users = $5000/month - $120 cost = $4880 profit
Year 2:      2000 users = $20K/month - $800 cost = $19.2K profit
```

### Stripe Transaction Fees

```
$10 subscription:
- Stripe fee: $0.59 (5.9%)
- Your revenue: $9.41

$20 subscription:
- Stripe fee: $0.88 (4.4%)
- Your revenue: $19.12

$100 subscription:
- Stripe fee: $3.20 (3.2%)
- Your revenue: $96.80
```

---

## ğŸ”’ SECURITY BEST PRACTICES

### Authentication

```typescript
// lib/auth.ts
import NextAuth from "next-auth"
import Google from "next-auth/providers/google"
import { SupabaseAdapter } from "@auth/supabase-adapter"

export const { handlers, auth, signIn, signOut } = NextAuth({
  adapter: SupabaseAdapter({
    url: process.env.SUPABASE_URL!,
    secret: process.env.SUPABASE_SERVICE_ROLE_KEY!,
  }),
  providers: [
    Google({
      clientId: process.env.GOOGLE_CLIENT_ID!,
      clientSecret: process.env.GOOGLE_CLIENT_SECRET!,
    }),
  ],
  session: {
    strategy: "jwt",
    maxAge: 30 * 24 * 60 * 60, // 30 days
  },
  callbacks: {
    async jwt({ token, user, account }) {
      if (account && user) {
        return {
          ...token,
          userId: user.id,
          accessToken: account.access_token,
        }
      }
      return token
    },
    async session({ session, token }) {
      session.user.id = token.userId
      return session
    },
  },
})
```

### Protected API Routes

```typescript
// app/api/draw/start/route.ts
import { auth } from "@/lib/auth"
import { NextResponse } from "next/server"
import { checkLicense } from "@/lib/license"

export async function POST(request: Request) {
  // 1. Check authentication
  const session = await auth()
  if (!session?.user) {
    return NextResponse.json(
      { error: "Unauthorized" },
      { status: 401 }
    )
  }

  // 2. Check license
  const hasValidLicense = await checkLicense(session.user.id)
  if (!hasValidLicense) {
    return NextResponse.json(
      { error: "No active subscription" },
      { status: 403 }
    )
  }

  // 3. Rate limiting
  const rateLimit = await checkRateLimit(session.user.id)
  if (!rateLimit.success) {
    return NextResponse.json(
      { error: "Too many requests" },
      { status: 429 }
    )
  }

  // 4. Validate input
  const body = await request.json()
  const validated = drawSchema.safeParse(body)
  if (!validated.success) {
    return NextResponse.json(
      { error: "Invalid input", details: validated.error },
      { status: 400 }
    )
  }

  // 5. Process request
  // ... your logic here
}
```

### Middleware Protection

```typescript
// middleware.ts
import { auth } from "@/lib/auth"
import { NextResponse } from "next/server"
import type { NextRequest } from "next/server"

export default async function middleware(request: NextRequest) {
  const session = await auth()
  const isAuthPage = request.nextUrl.pathname.startsWith("/login")
  const isProtectedPage = request.nextUrl.pathname.startsWith("/dashboard")

  // Redirect to login if accessing protected page without auth
  if (isProtectedPage && !session) {
    return NextResponse.redirect(new URL("/login", request.url))
  }

  // Redirect to dashboard if accessing auth page while logged in
  if (isAuthPage && session) {
    return NextResponse.redirect(new URL("/dashboard", request.url))
  }

  return NextResponse.next()
}

export const config = {
  matcher: [
    "/((?!api|_next/static|_next/image|favicon.ico).*)",
  ],
}
```

### Environment Variables Security

```bash
# .env.example
# Public (can be exposed to browser)
NEXT_PUBLIC_APP_URL=https://wheelofwow.com
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...

# Private (server-only)
DATABASE_URL=postgresql://...
SUPABASE_SERVICE_ROLE_KEY=...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
GOOGLE_CLIENT_ID=...
GOOGLE_CLIENT_SECRET=...
NEXTAUTH_SECRET=... # Generate with: openssl rand -base64 32
NEXTAUTH_URL=http://localhost:3000
```

### Stripe Webhook Verification

```typescript
// app/api/stripe/webhook/route.ts
import { stripe } from "@/lib/stripe"
import { headers } from "next/headers"
import type Stripe from "stripe"

export async function POST(request: Request) {
  const body = await request.text()
  const signature = headers().get("Stripe-Signature")!

  let event: Stripe.Event

  try {
    // Verify webhook signature
    event = stripe.webhooks.constructEvent(
      body,
      signature,
      process.env.STRIPE_WEBHOOK_SECRET!
    )
  } catch (err) {
    console.error("Webhook signature verification failed:", err)
    return new Response("Webhook Error", { status: 400 })
  }

  // Handle the event
  switch (event.type) {
    case "checkout.session.completed":
      await handleCheckoutComplete(event.data.object)
      break
    case "customer.subscription.updated":
      await handleSubscriptionUpdate(event.data.object)
      break
    case "customer.subscription.deleted":
      await handleSubscriptionCancel(event.data.object)
      break
  }

  return new Response(JSON.stringify({ received: true }))
}
```

### SQL Injection Prevention (Supabase)

```typescript
// âœ… GOOD - Using parameterized queries
const { data, error } = await supabase
  .from('users')
  .select('*')
  .eq('id', userId) // Automatically escaped

// âœ… GOOD - Using Row Level Security (RLS)
-- Enable RLS
ALTER TABLE users ENABLE ROW LEVEL SECURITY;

-- Policy: Users can only read their own data
CREATE POLICY users_select_policy ON users
  FOR SELECT
  USING (auth.uid() = id);

// âŒ BAD - Never do this
const query = `SELECT * FROM users WHERE id = '${userId}'` // SQL injection risk!
```

### XSS Prevention

```typescript
// âœ… GOOD - React automatically escapes
function WinnerDisplay({ name }: { name: string }) {
  return <div>{name}</div> // Escaped by React
}

// âœ… GOOD - Using DOMPurify for HTML content
import DOMPurify from "isomorphic-dompurify"

function RichContent({ html }: { html: string }) {
  const clean = DOMPurify.sanitize(html)
  return <div dangerouslySetInnerHTML={{ __html: clean }} />
}

// âŒ BAD - Never do this
function UnsafeContent({ html }: { html: string }) {
  return <div dangerouslySetInnerHTML={{ __html: html }} /> // XSS risk!
}
```

---

## ğŸ“Š DATABASE SCHEMA

### Supabase Schema

```sql
-- Users table (managed by NextAuth/Supabase Auth)
CREATE TABLE users (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  email VARCHAR(255) UNIQUE NOT NULL,
  name VARCHAR(255),
  image TEXT,
  email_verified TIMESTAMP,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- Subscriptions table
CREATE TABLE subscriptions (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  stripe_customer_id VARCHAR(255) UNIQUE,
  stripe_subscription_id VARCHAR(255) UNIQUE,
  stripe_price_id VARCHAR(255),
  status VARCHAR(50), -- active, canceled, past_due, etc.
  current_period_start TIMESTAMP,
  current_period_end TIMESTAMP,
  cancel_at_period_end BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- Licenses table
CREATE TABLE licenses (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  subscription_id UUID REFERENCES subscriptions(id),
  license_key VARCHAR(255) UNIQUE NOT NULL,
  status VARCHAR(50) DEFAULT 'active', -- active, expired, suspended
  expires_at TIMESTAMP,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- Draw sessions table
CREATE TABLE draw_sessions (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES users(id),
  session_name VARCHAR(255),
  total_participants INTEGER,
  created_at TIMESTAMP DEFAULT NOW()
);

-- Winners table
CREATE TABLE winners (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  draw_session_id UUID REFERENCES draw_sessions(id) ON DELETE CASCADE,
  participant_code VARCHAR(100),
  participant_name VARCHAR(255),
  prize_type VARCHAR(100),
  drawn_at TIMESTAMP DEFAULT NOW()
);

-- Indexes
CREATE INDEX idx_subscriptions_user_id ON subscriptions(user_id);
CREATE INDEX idx_subscriptions_stripe_customer ON subscriptions(stripe_customer_id);
CREATE INDEX idx_licenses_user_id ON licenses(user_id);
CREATE INDEX idx_winners_session_id ON winners(draw_session_id);

-- Row Level Security (RLS) Policies
ALTER TABLE users ENABLE ROW LEVEL SECURITY;
ALTER TABLE subscriptions ENABLE ROW LEVEL SECURITY;
ALTER TABLE licenses ENABLE ROW LEVEL SECURITY;
ALTER TABLE draw_sessions ENABLE ROW LEVEL SECURITY;
ALTER TABLE winners ENABLE ROW LEVEL SECURITY;

-- Users can only read their own data
CREATE POLICY users_select_own ON users
  FOR SELECT USING (auth.uid() = id);

CREATE POLICY subscriptions_select_own ON subscriptions
  FOR SELECT USING (auth.uid() = user_id);

CREATE POLICY licenses_select_own ON licenses
  FOR SELECT USING (auth.uid() = user_id);

CREATE POLICY draw_sessions_all_own ON draw_sessions
  FOR ALL USING (auth.uid() = user_id);

CREATE POLICY winners_all_own ON winners
  FOR ALL USING (
    auth.uid() IN (
      SELECT user_id FROM draw_sessions WHERE id = draw_session_id
    )
  );
```

---

## ğŸ¨ UI/UX IMPROVEMENTS

### Pricing Page Design

```typescript
// app/(marketing)/pricing/page.tsx
const pricingPlans = [
  {
    name: "Free",
    price: 0,
    features: [
      "5 draws per month",
      "Up to 50 participants",
      "Basic prizes",
      "Email support",
    ],
    cta: "Get Started",
  },
  {
    name: "Pro",
    price: 10,
    features: [
      "Unlimited draws",
      "Unlimited participants",
      "All prize types",
      "Priority support",
      "Export results",
      "Custom branding",
    ],
    cta: "Subscribe Now",
    popular: true,
  },
  {
    name: "Enterprise",
    price: "Custom",
    features: [
      "Everything in Pro",
      "API access",
      "White-label solution",
      "Dedicated support",
      "Custom integrations",
      "SLA guarantee",
    ],
    cta: "Contact Sales",
  },
]
```

### Dashboard Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  NAVBAR                                                  â”‚
â”‚  [Logo] [Dashboard] [Draw] [History]     [Profile] [âš™ï¸] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â”œâ”€ SIDEBAR (Desktop) â”€â”€â”€â”€â”€â”¬â”€ MAIN CONTENT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                          â”‚                               â”‚
â”‚  ğŸ“Š Dashboard            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  ğŸ¯ Lucky Draw           â”‚  â”‚   Your Subscription     â”‚ â”‚
â”‚  ğŸ“œ History              â”‚  â”‚   Plan: Pro Monthly     â”‚ â”‚
â”‚  âš™ï¸  Settings            â”‚  â”‚   Status: Active        â”‚ â”‚
â”‚  ğŸ’³ Subscription         â”‚  â”‚   Expires: Mar 4, 2026  â”‚ â”‚
â”‚                          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚                               â”‚
â”‚                          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                          â”‚  â”‚   Quick Stats           â”‚ â”‚
â”‚                          â”‚  â”‚   Total Draws: 45       â”‚ â”‚
â”‚                          â”‚  â”‚   Winners: 120          â”‚ â”‚
â”‚                          â”‚  â”‚   This Month: 12        â”‚ â”‚
â”‚                          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚                               â”‚
â”‚                          â”‚  [Start New Draw â†’]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ DEPLOYMENT GUIDE

### Step 1: Setup Vercel Project

```bash
# Install Vercel CLI
npm i -g vercel

# Login
vercel login

# Deploy
vercel --prod
```

### Step 2: Configure Environment Variables

```bash
# In Vercel Dashboard > Settings > Environment Variables

# Database
DATABASE_URL=postgresql://...
SUPABASE_URL=https://...
SUPABASE_ANON_KEY=eyJh...
SUPABASE_SERVICE_ROLE_KEY=eyJh...

# Auth
NEXTAUTH_URL=https://wheelofwow.com
NEXTAUTH_SECRET=... # Generate with: openssl rand -base64 32
GOOGLE_CLIENT_ID=...
GOOGLE_CLIENT_SECRET=...

# Stripe
STRIPE_SECRET_KEY=sk_live_...
STRIPE_PUBLISHABLE_KEY=pk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_...

# Email
RESEND_API_KEY=re_...
```

### Step 3: Setup Custom Domain

```bash
# In Vercel Dashboard > Settings > Domains
# Add: wheelofwow.com

# Update DNS records:
# A record: @ â†’ 76.76.21.21
# CNAME: www â†’ cname.vercel-dns.com
```

### Step 4: Setup Stripe Webhook

```bash
# Stripe Dashboard > Developers > Webhooks
# Add endpoint: https://wheelofwow.com/api/stripe/webhook

# Events to listen:
# - checkout.session.completed
# - customer.subscription.created
# - customer.subscription.updated
# - customer.subscription.deleted
# - invoice.payment_succeeded
# - invoice.payment_failed
```

---

## ğŸ“ˆ MONITORING & ANALYTICS

### Setup Sentry

```typescript
// sentry.client.config.ts
import * as Sentry from "@sentry/nextjs"

Sentry.init({
  dsn: process.env.NEXT_PUBLIC_SENTRY_DSN,
  tracesSampleRate: 1.0,
  environment: process.env.NODE_ENV,
})
```

### Setup Vercel Analytics

```typescript
// app/layout.tsx
import { Analytics } from "@vercel/analytics/react"

export default function RootLayout({ children }) {
  return (
    <html>
      <body>
        {children}
        <Analytics />
      </body>
    </html>
  )
}
```

---

## âœ… Káº¾T LUáº¬N

### TÃ³m táº¯t khuyáº¿n nghá»‹

**ğŸ¯ FRAMEWORK:** Next.js 14 vá»›i App Router  
**ğŸ” AUTH:** NextAuth.js vá»›i Google OAuth  
**ğŸ’³ PAYMENT:** Stripe Checkout + Webhooks  
**ğŸ’¾ DATABASE:** Supabase (PostgreSQL)  
**ğŸš€ HOSTING:** Vercel  
**ğŸ’° CHI PHÃ:** $0-120/month (phá»¥ thuá»™c users)

### Timeline tá»•ng quan
- **Phase 1-2:** 4 tuáº§n (Setup + Auth)
- **Phase 3-4:** 4 tuáº§n (Payment + License)
- **Phase 5-6:** 2 tuáº§n (Testing + Launch)
- **TOTAL:** ~10-12 tuáº§n (2.5-3 thÃ¡ng)

### Next Steps
1. âœ… Review tÃ i liá»‡u nÃ y
2. âœ… Quyáº¿t Ä‘á»‹nh framework (khuyáº¿n nghá»‹ Next.js)
3. âœ… Táº¡o accounts (Supabase, Stripe, Vercel)
4. âœ… Báº¯t Ä‘áº§u Phase 1: Migration

### Resources
- [Next.js Documentation](https://nextjs.org/docs)
- [NextAuth.js Guide](https://authjs.dev)
- [Stripe Integration](https://stripe.com/docs/payments/checkout)
- [Supabase Quickstart](https://supabase.com/docs/guides/getting-started)
- [Vercel Deployment](https://vercel.com/docs)

---

**ğŸ“ Support:**  
Náº¿u cáº§n há»— trá»£ thÃªm trong quÃ¡ trÃ¬nh implementation, hÃ£y cho tÃ´i biáº¿t!

**ğŸ“ Document Version:** 1.0  
**ğŸ“… Last Updated:** February 4, 2026  
**âœï¸ Author:** GitHub Copilot
